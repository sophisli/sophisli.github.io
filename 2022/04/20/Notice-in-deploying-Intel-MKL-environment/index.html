<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/world.png"><link rel="icon" href="/img/world.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content=""><meta name="author" content="Lee"><meta name="keywords" content=""><title>Notices in deploying Intel MKL and MPI in VS environment - 知梧</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"sophisli.github.io",root:"/",version:"1.8.9",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:"§"},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,onlypost:!1},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}}}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="知梧" type="application/atom+xml"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>知梧</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item"><a class="nav-link" href="/gallery/"><i class="iconfont icon-link-fill"></i> gallery</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" href="javascript:">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(/img/gu.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="Notices in deploying Intel MKL and MPI in VS environment"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-04-20 14:10" pubdate>2022年4月20日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 2.3k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 23 分钟</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">Notices in deploying Intel MKL and MPI in VS environment</h1><div class="markdown-body"><p>“遇到一些bug，尤其像Fortran这种老旧的语言，多半会让人像斯金纳的鸽子，迷信式祈祷自己不要遇到这些问题。但现实永远像墨菲定律，所以你需要熟悉这些基本操作<sup><a href="#1">1</a></sup>。”</p><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>在Visual Studio(VS)上配置Intel Visual Fortran并调用MKL这种计算库，实际上会遇到一些莫名其妙的问题，这里主要记录一些踩坑的经历。</p><h1 id="oneAPI-or-Intel-Parallel-Studio-XE-in-VS"><a href="#oneAPI-or-Intel-Parallel-Studio-XE-in-VS" class="headerlink" title="oneAPI or Intel Parallel Studio XE in VS"></a>oneAPI or Intel Parallel Studio XE in VS</h1><p>目前主流的Fortran编译环境是Intel旗下的Intel Visual Fortran，主要集成在parallel studio或者现在的oneAPI中，这里基础套件的安装过程就不再详述，具体参看<a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/developer/tools/oneapi/toolkits.html#gs.47d8mh">官网</a>的介绍。问题集中在VS 的配置上，所以以下详细介绍整个配置过程。</p><h2 id="编译环境"><a href="#编译环境" class="headerlink" title="编译环境"></a>编译环境</h2><p>安装完oneAPI的基础套件或者旧版本的Parallel Studio之后，Fortran的编译环境会自动集成到VS上，就能在VS界面的菜单栏新建项目里找到相应的开发选项。</p><center><span id="console"></span> <img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sg9gmmoej30rw0bjwjs.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">红框中显示了IDE界面下的Fortran的开发选项</div></center><p>集成开发环境可以很方便把Fortran的编写纳入VS的工作流。</p><h3 id="MKL和MPI的配置"><a href="#MKL和MPI的配置" class="headerlink" title="MKL和MPI的配置"></a>MKL和MPI的配置</h3><p>像Fortran这类面向过程的编译型语言，其编译实现需要编译器将写好的目标代码转换为中间代码，链接器将此中间代码与其他代码相结合生成可执行文件(.exe后缀，即二进制机器码)。编译部分是编译器对源代码的检查和转换，而链接过程就是把转换之后的源代码和系统的标准启动代码以及库代码结合在一起，形成最终的可执行文件。</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5skl2f045j3071052dgv.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">在win系统平台，Fortran的文件目录下编译过程会涉及图中几种后缀的文件生成。</div></center>注意到，除了一些可执行文件的修饰文件和日志文件，上图展示的是一个叫Console4的项目编译生成了.obj、.mod、.exe这三种后缀的文件。.exe是可执行文件，.mod即module模块文件，.obj是object的缩写，即工程文件，也就是刚才提到的中间文件，它是链接器操作的对象。<center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sl8qrm8mj30lq0103zj.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">作为对比，在超算集群Linux平台下的编译文件和win平台略微有所区别。</div></center><p>和win平台有所区别的是，Linux下工程文件从.obj后缀变成了.o后缀，可执行文件没有后缀名（图中绿色显示）。</p><h2 id="项目配置"><a href="#项目配置" class="headerlink" title="项目配置"></a>项目配置</h2><p>在经过<a href="#console">第一节</a>的新建开发项目之后，我们需要对新建的项目做相应的配置。</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sojsxdwpj30k30f344j.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">在VS界面可以找到解决方案一栏，这里有详细的项目文件层级，只需要选定任意项目名称右键即可在属性选项下找到项目配置的页面。</div></center>可选择地，<center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5soktmonmj30ik08un08.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">菜单栏项目下亦可找到该项目属性选项。</div></center><h3 id="属性页面的设置"><a href="#属性页面的设置" class="headerlink" title="属性页面的设置"></a>属性页面的设置</h3><p>属性页面是一系列涉及项目源码编译的选项，也是VS作为一个著名的集成开发平台在项目管理上的便易性体现，如果单纯通过命令行展开项目开发，将会是一个相当繁杂而艰难的任务。经过一定的项目配置，可以傻瓜式地实现一个大型项目的开发和编译过程。</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5soslapejj30oe0brtdd.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">项目编译的若干选项设置。</div></center>可以看到项目属性页左侧集成了Fortran编译和调试的各种选项设置。其中General是编译输出位置和输出名设置等基本编译操作，而debuging一项则是调试的基本设置。我们重点关注的是Fortran编译器和Linker链接器的设置，尤其关于第三方库的配置。<center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5spcef7xbj30nq03gmyn.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">配置选项和平台。</div></center><p>而属性页面上方是平台配置，出现了Debug和Release以及平台架构的选择，这也是初学者很容易在IDE设置上混淆的地方。</p><h3 id="Debug和Release"><a href="#Debug和Release" class="headerlink" title="Debug和Release"></a>Debug和Release</h3><p>“Debug”，顾名思义，调试，是编译过程重要的步骤，而“Release”即发布，是调试结束后的事。之所以配置选项专门给了debug和release这两种设置，也是意在把调试任务和程序最终的发布区分开。因此，如果配置器选择了Debug，整个编译过程会额外地记录编译的细节，以便调试程序的运行。换句话说，Debug的配置器会把调试放在第一位，包括我们可能需要的单步断定调试或异步调试，这些都依赖Debug配置下的设置。而Release配置器则倾向于程序稳定运行和移植，所以会裁除调试信息，降低程序冗余，以便开发者发布最终的成品。</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sq20vrsnj30990323z1.jpg" srcset="/img/loading.gif" lazyload> <img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sq35xavbj307s03hglz.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">Debug的生成文件大小在同样配置下要远大于Release。</div></center><h3 id="编译器的选项设置"><a href="#编译器的选项设置" class="headerlink" title="编译器的选项设置"></a>编译器的选项设置</h3><p><strong>Fortran选项一栏：</strong><br>在Fortran选项下有以下需要注意的地方。对于General一项，主要涉及一些调试优化，对于不同配置器，这些优化选项有必要区分。我们需要关注的是下图箭头指向的两项，对于Release配置器，大可不必做调试，优化也可选择速度最优，以节省计算机编译和执行的时间。</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sp65ddrij30np0eb43i.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">Fortran选项下General一项需要注意箭头指向的设置。</div></center>对于Libaries一项，则需要注意另外两个地方。运行时库的选择如果如图所示，可以大大降低程序的体积，因为这里选择的库文件类型是动态库类型，在<a href="https://sophisli.github.io/2022/05/02/Linux%E7%B3%BB%E7%BB%9F%E4%B8%8BFortran%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/">Linux系统下Fortran编译和链接第三方库</a>一文中，我简单提到过这个特点，对于调用动态库，无需将所需要的库文件集成到可执行文件中。从而可以降低可执行文件的体积。 另外需要注意的是，Intel的数学核心库调用要选择为并行版本。<center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sp2xyy4gj30nj0ecafe.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">Fortran选项下Liberies一项需要注意箭头指向的设置。</div></center><p><strong>Linker选项一栏：</strong><br>Linker链接器选项设置仍然需要注意两个地方，第一就是input选项下附加依赖项要键入<code>mkl_lapack95_ilp64.lib impi.lib</code>。这里要稍加解释，因为网上一部分方案都是以讹传讹的设置，盲目地参考这些教程键入奇怪的库文件名会导致难以排查的编译错误。这里我仅仅需要这两项就可以完成MKL和MPI库的调用，而我需要lapack95计算包的函数以及实现并行计算的任务。</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sqs0d17hj30nn0faafg.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">Linker选项下Input一项需要注意箭头指向的设置。</div></center><p>另外，在system选项下，同样是第一项需要选择“console”</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sr4xn5cpj30ne0fa0xu.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">子系统需要选择console，以匹配系统程序启动入口。</div></center>不然会出现没有定义程序入口点的错误。<center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sr6romixj30rc02pjsb.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">这个错误相当低级，但是对于初学者是致命的，因为很难检索到解决方案。</div></center><h3 id="区分编译平台"><a href="#区分编译平台" class="headerlink" title="区分编译平台"></a>区分编译平台</h3><p>这里涉及32位平台和64位平台的选择问题，稍懂计算机的都知道这里“位”是信息的单位，CPU在早期有32位架构，一部分早期的计算机语言在编译处理上就遗留了寄存器信息处理位宽的历史问题。所以对于Fortran而言，一部分早期可靠的源代码依赖32位平台的处理，而后来源码的编译都是在更先进信息吞吐量更大的64位架构的计算机上完成的，同样也遗留了编译平台的问题。这些底层的代码决定了有些运行库对编译平台有特别的要求，比如IntelMPI的库文件就只能在64位平台下编译运行，不清楚这些问题，错选32位平台，会出现难以排查的编译问题。</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5srdxqxmhj30jo09bjtl.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">可以通过箭头所指设置不同配置器的架构，一般是win32和x64。</div></center><h2 id="VS上的一些重要设置"><a href="#VS上的一些重要设置" class="headerlink" title="VS上的一些重要设置"></a>VS上的一些重要设置</h2><p>说了这么多项目配置，实质上一开始我们还需要熟悉VS基本的设置，它涉及Fortran第三方库调用的环境配置。</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5srnu0gk3j30mh0k7woe.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">在菜单栏“工具”下找到选项，在Intel编译工具下可以找到编译器设置，这里我们需要设置头文件地址和库文件地址，对应箭头所示</div></center><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5srsnhl2ej30nn06ojus.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">Intel套件安装位置可以找到头文件地址和库文件地址。图示是MKL的头文件和库文件地址，其他第三方库的设置与此类似。</div></center><p>在我们设置好这些环境变量之后，便可以直接在上节项目配置中直接指定库文件名就可以实现对应库文件和头文件的调用</p><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sr1faiaej30pg0fzk2l.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">MKL的lapack95库文件和对应地址。</div></center><center><img style="border-radius:.3125em;box-shadow:0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(128,128,128,.08)" src="http://tva1.sinaimg.cn/large/006fyIojgy1h5sr3jsz7ij30qz097758.jpg" srcset="/img/loading.gif" lazyload><br><div style="color:orange;border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;font-size:13px;width:400px">MPI的impi.lib。值得注意的是，这里仍然有Debug版本和Release版本的库文件。</div></center><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><span id="1">[1]. 海量的试错</span></p></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/code/">code</a> <a class="hover-with-bg" href="/categories/code/setup/">setup</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/2022/05/02/Linux%E7%B3%BB%E7%BB%9F%E4%B8%8BFortran%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Linux系统下Fortran编译和链接第三方库</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2022/04/20/Qsymmetry-tutorial/"><span class="hidden-mobile">Qsymmetry tutorial</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><div id="gitalk-container"></div><script type="text/javascript">Fluid.utils.lazyComments("gitalk-container",function(){Fluid.utils.createCssLink("/css/gitalk.css"),Fluid.utils.createScript("https://cdn.jsdelivr.net/npm/gitalk@1.7.0/dist/gitalk.min.js",function(){new Gitalk({clientID:"b45abf2bb1a9547df523",clientSecret:"32619621610193bba7bd00683f90396de96d54d2",repo:"liblogtalk",owner:"sophisli",admin:["sophisli"],id:"306a2c352456303a1d22c31117b35eb8",language:"zh-CN",labels:["Gitalk"],perPage:10,pagerDirection:"last",createIssueManually:!0,distractionFreeMode:!1,proxy:"https://shielded-brushlands-08810.herokuapp.com/https://github.com/login/oauth/access_token"}).render("gitalk-container")})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script><script src="/js/debouncer.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script>!function(t){(0,Fluid.plugins.typing)(t.getElementById("subtitle").title)}((window,document))</script><script src="/js/local-search.js"></script><script>$("#local-search-input").on("click",function(){searchFunc("/local-search.xml","local-search-input","local-search-result")}),$("#modalSearch").on("shown.bs.modal",function(){$("#local-search-input").focus()})</script><script>MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };</script><script async src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-svg.js"></script><script src="/js/boot.js"></script></body></html>